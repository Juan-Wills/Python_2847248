# **Sistema Gestor para Bibliotecas**

[![Python](https://img.shields.io/badge/Python-3.13-blue.svg)](https://www.python.org/)
[![CLI](https://img.shields.io/badge/Interface-CLI-green.svg)](https://es.wikipedia.org/wiki/Interfaz_de_l%C3%ADnea_de_comandos)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MI### üèõÔ∏è Patr√≥n de Arquitectura

El proyecto sigue una **arquitectura en capas** para mantener la separaci√≥n de responsabilidades:

#### Capas del Sistema

1. **Capa de Presentaci√≥n** (`views/`)
   - Interfaces de usuario CLI
   - Gesti√≥n de entrada y salida
   - Navegaci√≥n entre men√∫s

2. **Capa de L√≥gica de Negocio** (`services/`)
   - Reglas de negocio de la biblioteca
   - Validaciones complejas
   - Gesti√≥n de operaciones CRUD

3. **Capa de Datos** (`models/`)
   - Definici√≥n de entidades
   - Estructura de datos
   - M√©todos de serializaci√≥n

4. **Capa de Persistencia** (`data/`)
   - Almacenamiento en JSON
   - Gesti√≥n de archivos
   - Backup y recuperaci√≥n

### üéØ Decisiones de Dise√±o Clave

#### **Separaci√≥n de Responsabilidades**
- **Validaciones independientes**: Se cre√≥ un servicio separado para validaciones (`validation_and_dataManagement_service.py`) para mantener la l√≥gica de negocio limpia
- **Servicios especializados**: Cada funcionalidad tiene su propia vista y l√≥gica

#### **Escalabilidad**
- **CRUD completo**: Implementaci√≥n de operaciones Create, Read, Update, Delete para futuras expansiones
- **Modelos extensibles**: Estructura de clases que permite agregar nuevos campos f√°cilmente
- **Servicios modulares**: F√°cil adici√≥n de nuevas funcionalidades

#### **Experiencia de Usuario**
- **Interfaz intuitiva**: Men√∫s numerados y navegaci√≥n clara
- **Validaci√≥n en tiempo real**: Feedback inmediato al usuario
- **Confirmaciones**: Prevenci√≥n de errores con confirmaciones de acciones cr√≠ticas

#### **Mantenibilidad**
- **C√≥digo documentado**: Comentarios y estructura clara
- **Testing integrado**: Suite de pruebas para validar funcionalidad
- **Configuraci√≥n externa**: Separaci√≥n de configuraci√≥n del c√≥digo

### üîß Tecnolog√≠as y Herramientas

| Tecnolog√≠a | Versi√≥n | Prop√≥sito |
|------------|---------|-----------|
| **Python** | 3.13.5 | Lenguaje principal |
| **Pytest** | 8.4.1 | Framework de testing |
| **JSON** | Nativo | Persistencia de datos |

### üìä Caracter√≠sticas T√©cnicas

- **Persistencia**: Archivos JSON para almacenamiento ligero
- **Validaci√≥n**: Sistema robusto de validaci√≥n de datos
- **Error Handling**: Manejo graceful de errores
- **Testing**: Cobertura completa de pruebas unitarias

## üìû Soporte y Contacto

- **GitHub Issues**: [Reportar problemas](https://github.com/Juan-Wills/Python_2847248/issues)
- **Documentaci√≥n**: Ver este README y comentarios en el c√≥digo

## üôè Agradecimientos

- Desarrollado como parte del curso de Python
- Inspirado en sistemas reales de gesti√≥n bibliotecaria
- Gracias a la comunidad de Python por las herramientas utilizadas


## üìã Tabla de Contenidos

- [Caracter√≠sticas](#-caracter√≠sticas)
- [Instalaci√≥n](#-instalaci√≥n)
- [Uso](#-uso)
- [Estructura del Proyecto](#-estructura-del-proyecto)
- [Funcionalidades](#-funcionalidades)
- [Testing](#-testing)
- [Arquitectura](#-arquitectura)
- [Contribuir](#-contribuir)
- [Licencia](#-licencia)

## ‚ú® Caracter√≠sticas

- **Gesti√≥n de Libros**: CRUD completo para el inventario de libros
- **Gesti√≥n de Usuarios**: Administraci√≥n de usuarios de la biblioteca
- **Sistema de Pr√©stamos**: Control de pr√©stamos y devoluciones
- **Gesti√≥n de Multas**: C√°lculo autom√°tico y administraci√≥n de multas por retrasos
- **Reportes**: Estad√≠sticas de libros m√°s prestados
- **Validaci√≥n de Datos**: Sistema robusto de validaci√≥n de entradas
- **Interfaz CLI**: Interfaz de l√≠nea de comandos intuitiva y f√°cil de usar
- **Persistencia de Datos**: Almacenamiento en archivos JSON

## üöÄ Instalaci√≥n

### Opci√≥n 1: Clonar desde GitHub

```bash
# Clonar el repositorio
git clone https://github.com/Juan-Wills/Python_2847248.git

# Navegar al directorio del proyecto
cd Python_2847248/taller_final/Biblioteca

# Crear un entorno virtual (recomendado)
python -m venv biblioteca_env

# Activar el entorno virtual
# En Windows:
biblioteca_env\Scripts\activate
# En macOS/Linux:
source biblioteca_env/bin/activate

# Instalar dependencias
pip install -r requirements.txt
```

### Opci√≥n 2: Instalaci√≥n con Conda

```bash
# Crear entorno desde el archivo requirements.txt
conda create --name biblioteca --file requirements.txt

# Activar el entorno
conda activate biblioteca
```

## üéØ Uso

### Ejecutar la Aplicaci√≥n

```bash
python main.py
```

### Primeros Pasos

1. **Ejecutar el programa**: Al iniciar, se mostrar√° el men√∫ principal
2. **Navegar**: Use los n√∫meros para seleccionar opciones
3. **Agregar datos**: Comience agregando usuarios y libros antes de crear pr√©stamos
4. **Seguir instrucciones**: La aplicaci√≥n guiar√° paso a paso cada proceso

### Dependencias Principales

Las dependencias se instalan autom√°ticamente con el comando anterior:

- **pytest**: Framework de testing
- **typing_extensions**: Extensiones de tipado para Python

## üìñ Gu√≠a de Usuario

### Men√∫ Principal

Al ejecutar el programa se mostrar√° el men√∫ principal:

![img main.py menu](imgs%20MD/main%20menu.jpg)

### Opciones Disponibles

1. **Libros** - Gesti√≥n del inventario de libros
2. **Usuarios** - Administraci√≥n de usuarios
3. **Pr√©stamos y Devoluciones** - Control de pr√©stamos
4. **Multas** - Gesti√≥n de multas y pagos

#### üìö Gesti√≥n de Libros

![img book main menu](imgs%20MD/book%20main%20menu.jpg)

**Funcionalidades disponibles:**
- ‚ûï **Agregar libro**: Registrar nuevos libros en el inventario
- üîç **Buscar libro**: Encontrar libros por diferentes criterios
- ‚úèÔ∏è **Actualizar libro**: Modificar informaci√≥n de libros existentes
- üóëÔ∏è **Eliminar libro**: Remover libros del sistema

#### üë• Gesti√≥n de Usuarios

![img user main menu](imgs%20MD/user%20main%20menu.jpg)

**Funcionalidades disponibles:**
- ‚ûï **Agregar usuario**: Registrar nuevos usuarios
- üîç **Buscar usuario**: Encontrar usuarios por diferentes criterios
- ‚úèÔ∏è **Actualizar usuario**: Modificar informaci√≥n de usuarios
- üóëÔ∏è **Eliminar usuario**: Remover usuarios del sistema

#### üìã Gesti√≥n de Pr√©stamos

![img loan main menu](imgs%20MD/loan%20main%20menu.jpg)

**Funcionalidades disponibles:**
- ‚ûï **Crear pr√©stamo**: Registrar nuevos pr√©stamos
- üîç **Consultar pr√©stamos**: Ver historial de pr√©stamos
- üì• **Registrar devoluci√≥n**: Procesar devoluciones de libros
- üìä **Reporte de libros m√°s prestados**: Estad√≠sticas de pr√©stamos

#### üí∞ Gesti√≥n de Multas

![img fine main menu](imgs%20MD/fine%20main%20menu.jpg)

**Funcionalidades disponibles:**
- üîç **Consultar multas**: Ver multas pendientes y pagadas
- üí≥ **Pagar multa**: Procesar pagos de multas

## üõ†Ô∏è Estructura del Proyecto

```
Biblioteca/
‚îú‚îÄ‚îÄ main.py                   
‚îú‚îÄ‚îÄ requirements.txt           
‚îú‚îÄ‚îÄ README.MD                 
‚îú‚îÄ‚îÄ data/                     
‚îÇ   ‚îú‚îÄ‚îÄ libros.json          
‚îÇ   ‚îú‚îÄ‚îÄ usuarios.json        
‚îÇ   ‚îî‚îÄ‚îÄ prestamos.json       
‚îú‚îÄ‚îÄ models/                  
‚îÇ   ‚îú‚îÄ‚îÄ libro.py             
‚îÇ   ‚îú‚îÄ‚îÄ usuario.py           
‚îÇ   ‚îî‚îÄ‚îÄ prestamo.py          
‚îú‚îÄ‚îÄ services/                
‚îÇ   ‚îú‚îÄ‚îÄ biblioteca_service.py
‚îÇ   ‚îî‚îÄ‚îÄ validation_and_dataManagement_service.py 
‚îú‚îÄ‚îÄ views/                    
‚îÇ   ‚îú‚îÄ‚îÄ view_libros.py       
‚îÇ   ‚îú‚îÄ‚îÄ view_usuarios.py     
‚îÇ   ‚îú‚îÄ‚îÄ view_prestamos.py    
‚îÇ   ‚îî‚îÄ‚îÄ view_multas.py       
‚îú‚îÄ‚îÄ tests/                   
‚îÇ   ‚îú‚îÄ‚îÄ test_models.py       
‚îÇ   ‚îú‚îÄ‚îÄ test_biblioteca_services.py 
‚îÇ   ‚îî‚îÄ‚îÄ test_validation_and_dataManagement_service.py
‚îî‚îÄ‚îÄ imgs MD/                  
```

## üìã Funcionalidades Detalladas

### üìö Libros y Usuarios

Debido a que la estructura de gesti√≥n de usuarios y libros es similar, se explicar√°n sus funcionalidades de manera conjunta.

#### ‚ûï Agregar Nuevo Registro

El usuario deber√° completar los campos con las caracter√≠sticas del elemento (libro o usuario) que desea ingresar.

**Ejemplo - Agregar Libro:**
![img add book (filled fields)](imgs%20MD/add%20book%20(details).jpg)

**Ejemplo - Agregar Usuario:**
![img add user (filled fields)](imgs%20MD/add%20user%20(details).jpg)

**Proceso de confirmaci√≥n:**
Despu√©s de completar los campos, se mostrar√° una vista previa y se solicitar√° confirmaci√≥n para agregar el registro a la base de datos.

**Confirmaci√≥n de Libro:**
![img add book (confirm)](imgs%20MD/add%20book%20(confirm).jpg)

**Confirmaci√≥n de Usuario:**
![img add user (confirm)](imgs%20MD/add%20user%20(confirm).jpg)

> **Nota**: Si se rechaza la confirmaci√≥n, el sistema regresar√° al men√∫ principal.

#### üîç Buscar por Categor√≠a

El usuario puede filtrar resultados por diferentes caracter√≠sticas:

**Opci√≥n "Ver Todos":** Muestra todos los registros sin filtros.

**B√∫squeda de Libros (Todos):**
![img find book (all)](imgs%20MD/find%20book%20(all).jpg)

**B√∫squeda de Usuarios (Todos):**
![img find user (all)](imgs%20MD/find%20user%20(all).jpg)

**B√∫squeda Espec√≠fica:** Para filtros espec√≠ficos, ingrese la informaci√≥n de la categor√≠a deseada.

**Ejemplo:** Categor√≠a: correo, Informaci√≥n: jane@example.com

**B√∫squeda Espec√≠fica de Libro:**
![img find book (specific)](imgs%20MD/find%20book%20(specific).jpg)

**B√∫squeda Espec√≠fica de Usuario:**
![img find user (specific)](imgs%20MD/find%20user%20(specific).jpg)

#### ‚úèÔ∏è Actualizar Registro

**Proceso de actualizaci√≥n:**
1. Seleccionar criterio de b√∫squeda para localizar el elemento
2. Si hay m√∫ltiples coincidencias, se solicitar√° un criterio m√°s espec√≠fico (ej: ID)
3. Confirmar que el elemento mostrado es correcto

**Localizar Libro:**
![img update book (find)](imgs%20MD/update%20book%20(find).jpg)

**Localizar Usuario:**
![img update user (find)](imgs%20MD/update%20user%20(find).jpg)

**Seleccionar campo a modificar:**
![img update book (category)](imgs%20MD/update%20book%20(category).jpg)

**Actualizar informaci√≥n de usuario:**
![img update user (update info)](imgs%20MD/update%20user%20(update%20info).jpg)

**Confirmar cambios:**
![img update book (confirm)](imgs%20MD/update%20book%20(confirm).jpg)

![img update user (confirm)](imgs%20MD/update%20user%20(confirm).jpg)

#### üóëÔ∏è Eliminar Registro

**Proceso:**
1. Ingresar el ID del elemento a eliminar
2. Para m√∫ltiples IDs, separarlos con comas
3. Confirmar la eliminaci√≥n

**Eliminar Libro:**
![img delete book](imgs%20MD/delete%20book.jpg)

**Eliminar Usuario:**
![img delete user](imgs%20MD/delete%20user.jpg)

### üìã Pr√©stamos y Multas

> **Prerequisito**: Debe existir al menos un libro y un usuario registrados antes de crear pr√©stamos.

> **Nota**: Para acceder a la secci√≥n de multas deben existir pr√©stamos vencidos.

#### ‚ûï Crear Pr√©stamo

**Requisitos del sistema:**

1. **Validaci√≥n de Libro:**
   - Debe estar disponible (no prestado)
   - Confirmaci√≥n de que es el libro correcto
   
   ![img add loan (book)](imgs%20MD/add%20loan%20(book).jpg)

2. **Validaci√≥n de Usuario:**
   - No debe tener multas pendientes
   - Confirmaci√≥n de identidad del usuario
   
   ![img add loan (user)](imgs%20MD/add%20loan%20(user).jpg)

**Vista previa del pr√©stamo:**
![img add loan (details)](imgs%20MD/add%20loan%20(details%20-%20confirm).jpg)

> **Nota**: Si no se especifica fecha de pr√©stamo, se usar√° la fecha actual.

#### üìã Ver Registro de Pr√©stamos

**Filtros disponibles:**
- Ver todos los pr√©stamos
- Buscar por criterios espec√≠ficos

![img find loan (all)](imgs%20MD/find%20loan%20(all).jpg)

![img find loan (specific)](imgs%20MD/find%20loan%20(spec).jpg)

#### üì• Registrar Devoluci√≥n

**Requisitos:**
- El pr√©stamo debe estar en estado "Pendiente"

![img loan devolution](imgs%20MD/loan%20devolution.jpg)

#### üìä Reporte de Libros M√°s Prestados

Genera estad√≠sticas mostrando:
- Cada libro prestado y frecuencia
- Total de libros prestados

![img most loaned books](imgs%20MD/most%20loaned%20books.jpg)

### üí∞ Gesti√≥n de Multas

#### üîç Ver Registro de Multas

**Opciones de b√∫squeda:**
- Ver todas las multas
- Buscar por ID espec√≠fico

![img find fines (all)](imgs%20MD/find%20fines%20(all).jpg)

![img find fines (specific)](imgs%20MD/find%20fines%20(spec).jpg)

#### üí≥ Pagar Multa

**Requisitos:**
- La multa debe tener deuda pendiente
- El monto debe ser exacto al valor de la deuda

![img pay fine](imgs%20MD/pay%20fine.jpg)

## üß™ Testing

El proyecto incluye un conjunto completo de pruebas unitarias.

### Ejecutar Pruebas

```bash
# Ejecutar todas las pruebas
pytest tests/

# Ejecutar pruebas espec√≠ficas
python tests/test_models.py
python tests/test_biblioteca_services.py
```

### Cobertura de Pruebas

- **Modelos**: Tests para clases Libro, Usuario, Prestamo
- **Servicios**: Tests para l√≥gica de negocio
- **Validaciones**: Tests para validaci√≥n de datos
