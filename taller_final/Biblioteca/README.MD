# **Sistema Gestor para Bibliotecas**

[![Python](https://img.shields.io/badge/Python-3.13-blue.svg)](https://www.python.org/)
[![CLI](https://img.shields.io/badge/Interface-CLI-green.svg)](https://es.wikipedia.org/wiki/Interfaz_de_l%C3%ADnea_de_comandos)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MI### ğŸ›ï¸ PatrÃ³n de Arquitectura

El proyecto sigue una **arquitectura en capas** para mantener la separaciÃ³n de responsabilidades:

#### Capas del Sistema

1. **Capa de PresentaciÃ³n** (`views/`)
   - Interfaces de usuario CLI
   - GestiÃ³n de entrada y salida
   - NavegaciÃ³n entre menÃºs

2. **Capa de LÃ³gica de Negocio** (`services/`)
   - Reglas de negocio de la biblioteca
   - Validaciones complejas
   - GestiÃ³n de operaciones CRUD

3. **Capa de Datos** (`models/`)
   - DefiniciÃ³n de entidades
   - Estructura de datos
   - MÃ©todos de serializaciÃ³n

4. **Capa de Persistencia** (`data/`)
   - Almacenamiento en JSON
   - GestiÃ³n de archivos
   - Backup y recuperaciÃ³n

### ğŸ¯ Decisiones de DiseÃ±o Clave

#### **SeparaciÃ³n de Responsabilidades**
- **Validaciones independientes**: Se creÃ³ un servicio separado para validaciones (`validation_and_dataManagement_service.py`) para mantener la lÃ³gica de negocio limpia
- **Servicios especializados**: Cada funcionalidad tiene su propia vista y lÃ³gica

#### **Escalabilidad**
- **CRUD completo**: ImplementaciÃ³n de operaciones Create, Read, Update, Delete para futuras expansiones
- **Modelos extensibles**: Estructura de clases que permite agregar nuevos campos fÃ¡cilmente
- **Servicios modulares**: FÃ¡cil adiciÃ³n de nuevas funcionalidades

#### **Experiencia de Usuario**
- **Interfaz intuitiva**: MenÃºs numerados y navegaciÃ³n clara
- **ValidaciÃ³n en tiempo real**: Feedback inmediato al usuario
- **Confirmaciones**: PrevenciÃ³n de errores con confirmaciones de acciones crÃ­ticas

#### **Mantenibilidad**
- **CÃ³digo documentado**: Comentarios y estructura clara
- **Testing integrado**: Suite de pruebas para validar funcionalidad
- **ConfiguraciÃ³n externa**: SeparaciÃ³n de configuraciÃ³n del cÃ³digo

### ğŸ”§ TecnologÃ­as y Herramientas

| TecnologÃ­a | VersiÃ³n | PropÃ³sito |
|------------|---------|-----------|
| **Python** | 3.13.5 | Lenguaje principal |
| **Pytest** | 8.4.1 | Framework de testing |
| **JSON** | Nativo | Persistencia de datos |

### ğŸ“Š CaracterÃ­sticas TÃ©cnicas

- **Persistencia**: Archivos JSON para almacenamiento ligero
- **ValidaciÃ³n**: Sistema robusto de validaciÃ³n de datos
- **Error Handling**: Manejo graceful de errores
- **Testing**: Cobertura completa de pruebas unitarias

## ğŸ“ Soporte y Contacto

- **GitHub Issues**: [Reportar problemas](https://github.com/Juan-Wills/Python_2847248/issues)
- **DocumentaciÃ³n**: Ver este README y comentarios en el cÃ³digo

## ğŸ™ Agradecimientos

- Desarrollado como parte del curso de Python
- Inspirado en sistemas reales de gestiÃ³n bibliotecaria
- Gracias a la comunidad de Python por las herramientas utilizadas


## ğŸ“‹ Tabla de Contenidos

- [CaracterÃ­sticas](#-caracterÃ­sticas)
- [InstalaciÃ³n](#-instalaciÃ³n)
- [Uso](#-uso)
- [Estructura del Proyecto](#-estructura-del-proyecto)
- [Funcionalidades](#-funcionalidades)
- [Testing](#-testing)
- [Arquitectura](#-arquitectura)
- [Contribuir](#-contribuir)
- [Licencia](#-licencia)

## âœ¨ CaracterÃ­sticas

- **GestiÃ³n de Libros**: CRUD completo para el inventario de libros
- **GestiÃ³n de Usuarios**: AdministraciÃ³n de usuarios de la biblioteca
- **Sistema de PrÃ©stamos**: Control de prÃ©stamos y devoluciones
- **GestiÃ³n de Multas**: CÃ¡lculo automÃ¡tico y administraciÃ³n de multas por retrasos
- **Reportes**: EstadÃ­sticas de libros mÃ¡s prestados
- **ValidaciÃ³n de Datos**: Sistema robusto de validaciÃ³n de entradas
- **Interfaz CLI**: Interfaz de lÃ­nea de comandos intuitiva y fÃ¡cil de usar
- **Persistencia de Datos**: Almacenamiento en archivos JSON

## ğŸš€ InstalaciÃ³n

### OpciÃ³n 1: Clonar desde GitHub

```bash
# Clonar el repositorio
git clone https://github.com/Juan-Wills/Python_2847248.git

# Navegar al directorio del proyecto
cd Python_2847248/taller_final/Biblioteca

# Crear un entorno virtual (recomendado)
python -m venv biblioteca_env

# Activar el entorno virtual
# En Windows:
biblioteca_env\Scripts\activate
# En macOS/Linux:
source biblioteca_env/bin/activate

# Instalar dependencias
pip install -r requirements.txt
```

### OpciÃ³n 2: InstalaciÃ³n con Conda

```bash
# Crear entorno desde el archivo requirements.txt
conda create --name biblioteca --file requirements.txt

# Activar el entorno
conda activate biblioteca
```

## ğŸ¯ Uso

### Ejecutar la AplicaciÃ³n

```bash
python main.py
```

### Primeros Pasos

1. **Ejecutar el programa**: Al iniciar, se mostrarÃ¡ el menÃº principal
2. **Navegar**: Use los nÃºmeros para seleccionar opciones
3. **Agregar datos**: Comience agregando usuarios y libros antes de crear prÃ©stamos
4. **Seguir instrucciones**: La aplicaciÃ³n guiarÃ¡ paso a paso cada proceso

### Dependencias Principales

Las dependencias se instalan automÃ¡ticamente con el comando anterior:

- **pytest**: Framework de testing
- **typing_extensions**: Extensiones de tipado para Python

## ğŸ“– GuÃ­a de Usuario

### MenÃº Principal

Al ejecutar el programa se mostrarÃ¡ el menÃº principal:

![img main.py menu](imgs%20MD/main%20menu.jpg)

### Opciones Disponibles

1. **Libros** - GestiÃ³n del inventario de libros
2. **Usuarios** - AdministraciÃ³n de usuarios
3. **PrÃ©stamos y Devoluciones** - Control de prÃ©stamos
4. **Multas** - GestiÃ³n de multas y pagos

#### ğŸ“š GestiÃ³n de Libros

![img book main menu](imgs%20MD/book%20main%20menu.jpg)

**Funcionalidades disponibles:**
- â• **Agregar libro**: Registrar nuevos libros en el inventario
- ğŸ” **Buscar libro**: Encontrar libros por diferentes criterios
- âœï¸ **Actualizar libro**: Modificar informaciÃ³n de libros existentes
- ğŸ—‘ï¸ **Eliminar libro**: Remover libros del sistema

#### ğŸ‘¥ GestiÃ³n de Usuarios

![img user main menu](imgs%20MD/user%20main%20menu.jpg)

**Funcionalidades disponibles:**
- â• **Agregar usuario**: Registrar nuevos usuarios
- ğŸ” **Buscar usuario**: Encontrar usuarios por diferentes criterios
- âœï¸ **Actualizar usuario**: Modificar informaciÃ³n de usuarios
- ğŸ—‘ï¸ **Eliminar usuario**: Remover usuarios del sistema

#### ğŸ“‹ GestiÃ³n de PrÃ©stamos

![img loan main menu](imgs%20MD/loan%20main%20menu.jpg)

**Funcionalidades disponibles:**
- â• **Crear prÃ©stamo**: Registrar nuevos prÃ©stamos
- ğŸ” **Consultar prÃ©stamos**: Ver historial de prÃ©stamos
- ğŸ“¥ **Registrar devoluciÃ³n**: Procesar devoluciones de libros
- ğŸ“Š **Reporte de libros mÃ¡s prestados**: EstadÃ­sticas de prÃ©stamos

#### ğŸ’° GestiÃ³n de Multas

![img fine main menu](imgs%20MD/fine%20main%20menu.jpg)

**Funcionalidades disponibles:**
- ğŸ” **Consultar multas**: Ver multas pendientes y pagadas
- ğŸ’³ **Pagar multa**: Procesar pagos de multas

## ğŸ› ï¸ Estructura del Proyecto

```
Biblioteca/
â”œâ”€â”€ main.py                   
â”œâ”€â”€ requirements.txt           
â”œâ”€â”€ README.MD                 
â”œâ”€â”€ data/                     
â”‚   â”œâ”€â”€ libros.json          
â”‚   â”œâ”€â”€ usuarios.json        
â”‚   â””â”€â”€ prestamos.json       
â”œâ”€â”€ models/                  
â”‚   â”œâ”€â”€ libro.py             
â”‚   â”œâ”€â”€ usuario.py           
â”‚   â””â”€â”€ prestamo.py          
â”œâ”€â”€ services/                
â”‚   â”œâ”€â”€ biblioteca_service.py
â”‚   â””â”€â”€ validation_and_dataManagement_service.py 
â”œâ”€â”€ views/                    
â”‚   â”œâ”€â”€ view_libros.py       
â”‚   â”œâ”€â”€ view_usuarios.py     
â”‚   â”œâ”€â”€ view_prestamos.py    
â”‚   â””â”€â”€ view_multas.py       
â”œâ”€â”€ tests/                   
â”‚   â”œâ”€â”€ test_models.py       
â”‚   â”œâ”€â”€ test_biblioteca_services.py 
â”‚   â””â”€â”€ test_validation_and_dataManagement_service.py
â””â”€â”€ imgs MD/                  
```

## ğŸ“‹ Funcionalidades Detalladas

### ğŸ“š Libros y Usuarios

Debido a que la estructura de gestiÃ³n de usuarios y libros es similar, se explicarÃ¡n sus funcionalidades de manera conjunta.

#### â• Agregar Nuevo Registro

El usuario deberÃ¡ completar los campos con las caracterÃ­sticas del elemento (libro o usuario) que desea ingresar.

**Ejemplo - Agregar Libro:**
![img add book (filled fields)](imgs%20MD/add%20book%20(details).jpg)

**Ejemplo - Agregar Usuario:**
![img add user (filled fields)](imgs%20MD/add%20user%20(details).jpg)

**Proceso de confirmaciÃ³n:**
DespuÃ©s de completar los campos, se mostrarÃ¡ una vista previa y se solicitarÃ¡ confirmaciÃ³n para agregar el registro a la base de datos.

**ConfirmaciÃ³n de Libro:**
![img add book (confirm)](imgs%20MD/add%20book%20(confirm).jpg)

**ConfirmaciÃ³n de Usuario:**
![img add user (confirm)](imgs%20MD/add%20user%20(confirm).jpg)

> **Nota**: Si se rechaza la confirmaciÃ³n, el sistema regresarÃ¡ al menÃº principal.

#### ğŸ” Buscar por CategorÃ­a

El usuario puede filtrar resultados por diferentes caracterÃ­sticas:

**OpciÃ³n "Ver Todos":** Muestra todos los registros sin filtros.

**BÃºsqueda de Libros (Todos):**
![img find book (all)](imgs%20MD/find%20book%20(all).jpg)

**BÃºsqueda de Usuarios (Todos):**
![img find user (all)](imgs%20MD/find%20user%20(all).jpg)

**BÃºsqueda EspecÃ­fica:** Para filtros especÃ­ficos, ingrese la informaciÃ³n de la categorÃ­a deseada.

**Ejemplo:** CategorÃ­a: correo, InformaciÃ³n: jane@example.com

**BÃºsqueda EspecÃ­fica de Libro:**
![img find book (specific)](imgs%20MD/find%20book%20(specific).jpg)

**BÃºsqueda EspecÃ­fica de Usuario:**
![img find user (specific)](imgs%20MD/find%20user%20(specific).jpg)

#### âœï¸ Actualizar Registro

**Proceso de actualizaciÃ³n:**
1. Seleccionar criterio de bÃºsqueda para localizar el elemento
2. Si hay mÃºltiples coincidencias, se solicitarÃ¡ un criterio mÃ¡s especÃ­fico (ej: ID)
3. Confirmar que el elemento mostrado es correcto

**Localizar Libro:**
![img update book (find)](imgs%20MD/update%20book%20(find).jpg)

**Localizar Usuario:**
![img update user (find)](imgs%20MD/update%20user%20(find).jpg)

**Seleccionar campo a modificar:**
![img update book (category)](imgs%20MD/update%20book%20(category).jpg)

**Actualizar informaciÃ³n de usuario:**
![img update user (update info)](imgs%20MD/update%20user%20(update%20info).jpg)

**Confirmar cambios:**
![img update book (confirm)](imgs%20MD/update%20book%20(confirm).jpg)

![img update user (confirm)](imgs%20MD/update%20user%20(confirm).jpg)

#### ğŸ—‘ï¸ Eliminar Registro

**Proceso:**
1. Ingresar el ID del elemento a eliminar
2. Para mÃºltiples IDs, separarlos con comas
3. Confirmar la eliminaciÃ³n

**Eliminar Libro:**
![img delete book](imgs%20MD/delete%20book.jpg)

**Eliminar Usuario:**
![img delete user](imgs%20MD/delete%20user.jpg)

### ğŸ“‹ PrÃ©stamos y Multas

> **Prerequisito**: Debe existir al menos un libro y un usuario registrados antes de crear prÃ©stamos.

> **Nota**: Para acceder a la secciÃ³n de multas deben existir prÃ©stamos vencidos.

#### â• Crear PrÃ©stamo

**Requisitos del sistema:**

1. **ValidaciÃ³n de Libro:**
   - Debe estar disponible (no prestado)
   - ConfirmaciÃ³n de que es el libro correcto
   
   ![img add loan (book)](imgs%20MD/add%20loan%20(book).jpg)

2. **ValidaciÃ³n de Usuario:**
   - No debe tener multas pendientes
   - ConfirmaciÃ³n de identidad del usuario
   
   ![img add loan (user)](imgs%20MD/add%20loan%20(user).jpg)

**Vista previa del prÃ©stamo:**
![img add loan (details)](imgs%20MD/add%20loan%20(details%20-%20confirm).jpg)

> **Nota**: Si no se especifica fecha de prÃ©stamo, se usarÃ¡ la fecha actual.

#### ğŸ“‹ Ver Registro de PrÃ©stamos

**Filtros disponibles:**
- Ver todos los prÃ©stamos
- Buscar por criterios especÃ­ficos

![img find loan (all)](imgs%20MD/find%20loan%20(all).jpg)

![img find loan (specific)](imgs%20MD/find%20loan%20(spec).jpg)

#### ğŸ“¥ Registrar DevoluciÃ³n

**Requisitos:**
- El prÃ©stamo debe estar en estado "Pendiente"

![img loan devolution](imgs%20MD/loan%20devolution.jpg)

#### ğŸ“Š Reporte de Libros MÃ¡s Prestados

Genera estadÃ­sticas mostrando:
- Cada libro prestado y frecuencia
- Total de libros prestados

![img most loaned books](imgs%20MD/most%20loaned%20books.jpg)

### ğŸ’° GestiÃ³n de Multas

#### ğŸ” Ver Registro de Multas

**Opciones de bÃºsqueda:**
- Ver todas las multas
- Buscar por ID especÃ­fico

![img find fines (all)](imgs%20MD/find%20fines%20(all).jpg)

![img find fines (specific)](imgs%20MD/find%20fines%20(spec).jpg)

#### ğŸ’³ Pagar Multa

**Requisitos:**
- La multa debe tener deuda pendiente
- El monto debe ser exacto al valor de la deuda

![img pay fine](imgs%20MD/pay%20fine.jpg)

## ğŸ§ª Testing

El proyecto incluye un conjunto completo de pruebas unitarias.

### Ejecutar Pruebas

```bash
# Ejecutar todas las pruebas
pytest tests/

# Ejecutar pruebas especÃ­ficas
python tests/test_models.py
python tests/test_biblioteca_services.py
```

### Cobertura de Pruebas

- **Modelos**: Tests para clases Libro, Usuario, Prestamo
- **Servicios**: Tests para lÃ³gica de negocio
- **Validaciones**: Tests para validaciÃ³n de datos
